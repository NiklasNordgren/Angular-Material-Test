<input #fileInput type="file" accept=".pdf" ng2FileSelect [uploader]="uploader" multiple />

<div class="drop-box" ng2FileDrop [ngClass]="{'dragover': isFileOverDropZone}" [uploader]="uploader"
    (fileOver)="fileOverDropZone($event)" (click)="fileClicked()">
    <span class="drag-in-title" style="pointer-events: none;">
        <h3>Import or drag PDF file here</h3>
    </span>
    <span class="drag-over-title" style="pointer-events: none;">
        <h3>Drop the PDF file</h3>
    </span>
</div>

<div class="margin-10">

    <h3>Upload queue</h3>
    <p>Queue length: {{ uploader?.queue?.length }}</p>

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z1">

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <ng-container matColumnDef="size">
            <th mat-header-cell *matHeaderCellDef> Size </th>
            <td mat-cell *matCellDef="let element"> {{element.size}} </td>
        </ng-container>

        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef> Actions </th>
            <td mat-cell *matCellDef="let element">
                <div>
                    <button mat-raised-button color="accent" (click)="uploadFromQueue(element)" class="margin-left-10"
                        [disabled]="!isUploadedFromQueue(element)">
                        <fa-icon [icon]="faUpload"></fa-icon> Upload
                    </button>
                    <button mat-raised-button color="warn" (click)="removeFromQueue(element)" class="margin-left-10">
                        <fa-icon [icon]="faTrash"></fa-icon> Remove
                    </button>
                </div>

            </td>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <div>
        <p>Queue progress:</p>
        <mat-progress-bar [color]="accentColor" [value]="uploader.progress" [mode]="determinate"
            style=" padding-bottom: 10px;">
        </mat-progress-bar>
        <p></p>
    </div>
</div>

<mat-radio-group class="margin-10">
    <button mat-raised-button color="accent" (click)="uploader.uploadAll()"
        [disabled]="!uploader.getNotUploadedItems().length">
        <fa-icon [icon]="faUpload"></fa-icon> Upload all
    </button>
    <button mat-raised-button class="margin-left-10 margin-bottom-10" color="warn" (click)="clearQueue()"
        [disabled]="!uploader.queue.length">
        <fa-icon [icon]="faTrash"></fa-icon> Reset queue
    </button>
</mat-radio-group>